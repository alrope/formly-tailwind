<ngstr-section>
  <ng-container ngStrSectionMain>
    <ngstr-header title="Payment Element"></ngstr-header>
    <p>
      The <a class="ngstr-link" href="https://stripe.com/docs/payments/payment-element">Payment Element</a>
      is an embeddable component for securely collecting payment details.
      The Payment Element supports dozens of payment methods with a single integration.
      Whether you're just collecting card payments or dozens of payment methods,
      the Payment Element is the easiest way to build an <strong>embedded</strong> and <strong>customized</strong>
      payments experience.
    </p>
    <p>
      If you want more information about what the Payment Element and how to use it,
      you can visit official Stripe <a class="ngstr-link" href="https://stripe.com/docs/payments/payment-element">docs</a>.
    </p>
    <p>
      In this guide we are going to focus on how to use the Payment Element with
      Angular using ngx-stripe As we any other Stripe Element, <span class="ngstr-highlight">ngx-stripe</span> tries to
      provide a similar API. Here as an example on how to collection card payments using the
      <span class="ngstr-highlight">Payment Element</span>
    </p>
    <ngstr-subheader subheader="Usage" link="usage"></ngstr-subheader>
    <ngstr-code-group>
      <ngstr-code name="element.component.ts" [code]="paymentElementTS"></ngstr-code>
      <ngstr-code name="element.component.html"[code]="paymentElementHTML"></ngstr-code>
      <ngstr-code name="server.js" [code]="paymentElementServer"></ngstr-code>
    </ngstr-code-group>
  </ng-container>
  <div class="sm:mx-auto sm:w-full sm:max-w-md" ngStrSectionAside [formGroup]="stripeTest">
    <div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">
      <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
        Payment Element
      </h2>
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700"> Name </label>
        <div class="mt-1">
          <input id="name" type="text" formControlName="name" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
        </div>
      </div>
      <div class="mb-2">
        <label for="amount" class="block text-sm font-medium text-gray-700"> Amount </label>
        <div class="mt-1">
          <input id="amount" type="text" formControlName="amount" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
        </div>
      </div>
      <ng-container *ngIf="elementsOptions?.clientSecret as clientSecret">
        <ngx-stripe-payment [clientSecret]="clientSecret"></ngx-stripe-payment>
      </ng-container>

      <button type="button"
        (click)="pay()"
        [disabled]="paying"
        class="mt-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
        <span *ngIf="!paying">PAY</span>
        <span *ngIf="paying">PAYING...</span>
      </button>
      <a href="https://stackblitz.com/edit/ngx-stripe-live" target="_blank">
        <button type="button"
          class="ml-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          Live Demo
        </button>
      </a>
    </div>
  </div>
</ngstr-section>
