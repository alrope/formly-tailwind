<ngstr-section>
  <ng-container ngStrSectionMain>
    <ngstr-header title="Payment Element"></ngstr-header>
    <p>
      The
      <ngstr-link url="https://stripe.com/docs/payments/payment-element">Payment Element</ngstr-link>
      is an embeddable component for securely collecting payment details. The Payment Element supports dozens of payment
      methods with a single integration. Whether you're just collecting card payments or dozens of payment methods, the
      Payment Element is the easiest way to build an
      <strong>embedded</strong> and <strong>customized</strong>
      payments experience.
    </p>
    <p>
      If you want more information about what the Payment Element and how to use it, you can visit official Stripe
      <ngstr-link url="https://stripe.com/docs/payments/payment-element">docs</ngstr-link>.
    </p>
    <p>
      In this guide we are going to focus on how to use the Payment Element with Angular using ngx-stripe As we any
      other Stripe Element,
      <ngstr-highlight>ngx-stripe</ngstr-highlight> tries to provide a similar API. Here as an example on how to
      collection card payments using the
      <ngstr-highlight>Payment Element</ngstr-highlight>
    </p>
    <ngstr-subheader subheader="Usage" link="usage"></ngstr-subheader>
    <ngstr-code-group>
      <ngstr-code name="element.component.ts" [code]="paymentElementTS"></ngstr-code>
      <ngstr-code name="element.component.html" [code]="paymentElementHTML"></ngstr-code>
      <ngstr-code name="server.js" [code]="paymentElementServer"></ngstr-code>
    </ngstr-code-group>
  </ng-container>
  <div class="sm:mx-auto sm:w-full sm:max-w-md" ngStrSectionAside [formGroup]="paymentElementForm">
    <div class="bg-white py-4 px-4 shadow sm:rounded-lg sm:px-10 bg-indigo-50">
      <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Payment Element</h2>
      <div class="my-1">
        <label for="name" class="block text-sm font-medium text-gray-700"> Name </label>
        <div class="mt-1">
          <input
            id="name"
            type="text"
            formControlName="name"
            required
            class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>
      </div>
      <div class="my-1">
        <label for="name" class="block text-sm font-medium text-gray-700"> Email </label>
        <div class="mt-1">
          <input
            id="name"
            type="email"
            formControlName="email"
            required
            class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>
      </div>
      <div class="my-1">
        <label for="name" class="block text-sm font-medium text-gray-700"> Address </label>
        <div class="mt-1">
          <input
            id="name"
            type="text"
            formControlName="address"
            class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>
      </div>
      <div class="my-1">
        <label for="name" class="block text-sm font-medium text-gray-700"> ZIP Code </label>
        <div class="mt-1">
          <input
            id="name"
            type="text"
            formControlName="zipcode"
            class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>
      </div>
      <div class="my-1">
        <label for="name" class="block text-sm font-medium text-gray-700"> City </label>
        <div class="mt-1">
          <input
            id="name"
            type="text"
            formControlName="city"
            class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>
      </div>
      <ng-container *ngIf="elementsOptions?.clientSecret as clientSecret">
        <ngx-stripe-payment [clientSecret]="clientSecret"></ngx-stripe-payment>
      </ng-container>

      <button
        type="button"
        (click)="pay()"
        [disabled]="paying"
        class="mt-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
      >
        <span *ngIf="!paying">PAY</span>
        <span *ngIf="paying">PAYING...</span>
      </button>
      <a href="https://stackblitz.com/edit/ngx-stripe-live" target="_blank">
        <button
          type="button"
          class="ml-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
        >
          Live Demo
        </button>
      </a>
    </div>
  </div>
</ngstr-section>
